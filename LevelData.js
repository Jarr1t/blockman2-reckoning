class LevelData {
  static levelUpEvt = new CustomEvent('level-up')

  static characterLevelUpBreakpoints = [
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
    50,
  ]

  static bulletWeights = {
    1: {
      lv1: [0, 1], lvl2: [-1, -1], lvl3: [-1, -1], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    2: {
      lv1: [0.05, 0.95], lvl2: [0, 0.05], lvl3: [-1, -1], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    3: {
      lv1: [0.1, 0.9], lvl2: [0, 0.1], lvl3: [-1, -1], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    4: {
      lv1: [0.15, 0.85], lvl2: [0, 0.15], lvl3: [-1, -1], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    5: { // 1-0.2 = .8     0.2-0.05 = .15    0.05-0 = .05
      lv1: [0.2, 1], lvl2: [0.05, 0.2], lvl3: [0, 0.05], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    6: { // 1-0.25 = .75     0.25-0.05 = .2    0.05-0 = .05
      lv1: [0.25, 1], lvl2: [0.05, 0.25], lvl3: [0, 0.05], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    7: { // 1-0.3 = .7     0.3-0.1 = .2      0.1-0 = .1
      lv1: [0.3, 1], lvl2: [0.1, 0.3], lvl3: [0, 0.1], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    8: { // 1-0.35 = .65    0.35-0.1 = .25    0.1-0 = .1
      lv1: [0.35, 1], lvl2: [0.35, 0.1], lvl3: [0, 0.1], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    9: { // 1-0.4 = .6     0.4-0.15 = .25     0.15-0 = .15
      lv1: [0.4, 1], lvl2: [0.15, 0.4], lvl3: [0, 0.15], lvl4: [-1, -1], lvl5: [-1, -1]
    },
    10: { // 1-0.45 = .55    0.45-0.2 = .25    0.2-0.05 = .15     0.05-0 = .05
      lv1: [0.45, 1], lvl2: [0.2, 0.45], lvl3: [0.05, 0.2], lvl4: [0, 0.05], lvl5: [-1, -1]
    },
    11: { // 1-0.5 = .5    0.5-0.25 = .25     0.25-0.1 = .15     0.1-0 = .1
      lv1: [0.5, 1], lvl2: [0.25, 0.5], lvl3: [0.1, 0.25], lvl4: [0, 0.1], lvl5: [-1, -1]
    },
    12: { // 1-0.55 = .45    0.55-0.3 = .25    0.3-0.1 = .2      0.1-0 = .1
      lv1: [0.55, 1], lvl2: [0.3, 0.55], lvl3: [0.1, 0.3], lvl4: [0, 0.1], lvl5: [-1, -1]
    },
    13: { // 1-0.6 = .4    0.6-0.35 = .25     0.35-0.15 = .2      0.15-0 = .15
      lv1: [0.6, 1], lvl2: [0.35, 0.6], lvl3: [0.15, 0.35], lvl4: [0, 0.15], lvl5: [-1, -1]
    },
    14: { // 1-0.65 = .35    0.65-0.4 = .25    0.4-0.2 = .2      0.2-0 = .2
      lv1: [0.65, 1], lvl2: [0.4, 0.65], lvl3: [0.2, 0.4], lvl4: [0, 0.2], lvl5: [-1, -1]
    },
    15: { // 1-0.7 = .3    0.7-0.45 = .25     0.45-0.25 = .2      0.25-0.05 = .2      0.05-0 = .05
      lv1: [0.7, 1], lvl2: [0.45, 0.7], lvl3: [0.25, 0.45], lvl4: [0.05, 0.25], lvl5: [0, 0.05]
    },
    16: { // 1-0.75 = .25    0.75-0.5 = .25     0.5-0.3 = .2      0.3-0.1 = .2     0.1-0 = .1
      lv1: [0.75, 1], lvl2: [0.5, 0.75], lvl3: [0.3, 0.5], lvl4: [0.1, 0.3], lvl5: [0, 0.1]
    },
    17: { // 1-0.8 = .2    0.8-0.55 = .25     0.55-0.35 = .2      0.35-0.15 = .2      0.15-0 = .15
      lv1: [0.8, 1], lvl2: [0.55, 0.8], lvl3: [0.35, 0.55], lvl4: [0.15, 0.35], lvl5: [0, 0.15]
    },
    18: { // 1-0.85 = .15    0.85-0.6 = .25     0.6-0.4 = .2      0.4-0.2 = .2     0.2-0 = .2
      lv1: [0.85, 1], lvl2: [0.6, 0.85], lvl3: [0.4, 0.6], lvl4: [0.2, 0.4], lvl5: [0, 0.2]
    },
    19: { // 1-0.9 = .1    0.9-0.65 = .25     0.65-0.4 = .25      0.4-0.2 = .2      0.2-0 = .2
      lv1: [0.9, 1], lvl2: [0.65, 0.9], lvl3: [0.4, 0.65], lvl4: [0.2, 0.4], lvl5: [0, 0.2]
    },
    20: { // 1-0.95 = .05    0.95-0.7 = .25     0.7-0.45 = .25      0.45-0.2 = .25      0.2-0 = .2
      lv1: [0.95, 1], lvl2: [0.7, 0.95], lvl3: [0.45, 0.7], lvl4: [0.2, 0.45], lvl5: [0, 0.2]
    }
  }

  static bulletSpawnRates = [
    1000,
    975,
    950,
    925,
    900,
    875,
    850,
    825,
    800,
    775,
    750,
    725,
    700,
    675,
    650,
    625,
    600,
    575,
    550,
    525
  ]

  static bulletConfigs = {
    lv1: {
      radius: 10,
      damage: 1,
      speed: 1.5
    },
    lv2: {
      radius: 15,
      damage: 2,
      speed: 2.25
    },
    lv3: {
      radius: 20,
      damage: 3,
      speed: 3
    },
    lv4: {
      radius: 25,
      damage: 4,
      speed: 3.5
    },
    lv5: {
      radius: 30,
      damage: 5,
      speed: 4
    }
  }

  static getWeightedBullet(level) {
    const randomNum = Math.random().toFixed(2);
    return Object.keys(this.bulletWeights[level]).find((item) => Utils.inRange(randomNum, this.bulletWeights[level][item][0], this.bulletWeights[level][item][1]));
  }

  static checkLevelUp(player) {
    const { level } = player.stats;
    if (player.stats.experience >= this.characterLevelUpBreakpoints[level + 1]) {
      document.dispatchEvent(this.levelUpEvt);
    }
  }
}
